
<link rel="stylesheet" type="text/css" href="{{ site.url }}/assets/css/ldavis.css">
<script type="text/javascript" src="{{ site.url }}/assets/js/ldavis.v1.0.0.js"></script>
<script type="text/javascript" src="lda_data.js"></script>

<div id="ldavis_bezos"></div>
<script type="text/javascript">



    function LDAvis_load_lib(url, callback){
      var s = document.createElement('script');
      s.src = url;
      s.async = true;
      s.onreadystatechange = s.onload = callback;
      s.onerror = function(){console.warn("failed to load library " + url);};
      document.getElementsByTagName("head")[0].appendChild(s);
    }

    if(typeof(LDAvis) !== "undefined"){
       // already loaded: just create the visualization
       !function(LDAvis){
           new LDAvis("#" + "ldavis_bezos", ldadata);
       }(LDAvis);
    }else if(typeof define === "function" && define.amd){
       // require.js is available: use it to load d3/LDAvis
        let d3path = "{{ site.url }}/assets/js/d3.v5.js";
       require.config({paths: {d3: d3path}});
       require(["d3"], function(d3){
          window.d3 = d3;
          LDAvis_load_lib("{{ site.url }}/assets/js/ldavis.v1.0.0.js", function(){
            new LDAvis("#" + "ldavis_bezos", ldadata);
          });
        });
    }else{
        // require.js not available: dynamically load d3 & LDAvis
        LDAvis_load_lib(d3path, function(){
             LDAvis_load_lib("{{ site.url }}/assets/js/ldavis.v1.0.0.js", function(){
                     new LDAvis("#" + "ldavis_bezos", ldadata);
                })
             });
    }
</script>